# 并发map性能对比

| 实现方式      | 原理                                                                               | 适用场景                                               |
|---------------|----------------------------------------------------------------------------------|-----------------------------------------------------|
| map+Mutex     | 通过Mutex互斥锁来实现多个goroutine对map的串行化访问                                | 读写都需要通过Mutex加锁和释放锁，适用于读写比接近的场景 |
| map+RWMutex   | 通过RWMutex来实现对map的读写进行读写锁分离加锁，从而实现读的并发性能提高            | 同Mutex相比适用于读多写少的场景                        |
| sync.Map      | 底层通分离读写map和原子指令来实现读的近似无锁，并通过延迟更新的方式来保证读的无锁化 | 读多修改很少，元素增加删除频率不高的情况                |
| ConcurrentMap | map分片，降低锁粒度，从而达到最少的锁等待时间(锁冲突)                                | 大并发                                                 |

# 待验证
需要找台linux机器验证`benchmark`  

参考：
- https://www.cnblogs.com/jiujuan/p/13365901.html
- https://github.com/orcaman/concurrent-map


